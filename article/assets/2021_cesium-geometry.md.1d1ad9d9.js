import{o as n,c as s,a}from"./app.653a9468.js";const p='{"title":"Cesium Geometry 基础渲染","description":"","frontmatter":{},"relativePath":"2021/cesium-geometry.md","lastUpdated":1638174346374}',t={},o=a('<h1 id="cesium-geometry-基础渲染"><a class="header-anchor" href="#cesium-geometry-基础渲染" aria-hidden="true">#</a> Cesium Geometry 基础渲染</h1><p><strong>下方渲染了一个具有轮廓线的三角形</strong></p><p>需注意 <code>appearance.vertexFormat</code>与<code>geometry.attributes</code>匹配</p><div class="language-javascript"><pre><code><span class="token keyword">const</span> positions <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Float64Array</span><span class="token punctuation">(</span><span class="token punctuation">[</span>\n  <span class="token number">7500000.0</span><span class="token punctuation">,</span>\n  <span class="token number">7500000.0</span><span class="token punctuation">,</span>\n  <span class="token number">0.0</span><span class="token punctuation">,</span>\n  <span class="token number">7500000.0</span><span class="token punctuation">,</span>\n  <span class="token number">0.0</span><span class="token punctuation">,</span>\n  <span class="token number">0.0</span><span class="token punctuation">,</span>\n  <span class="token number">0.0</span><span class="token punctuation">,</span>\n  <span class="token number">7500000.0</span><span class="token punctuation">,</span>\n  <span class="token number">0.0</span>\n<span class="token punctuation">]</span><span class="token punctuation">)</span>\n\n<span class="token keyword">const</span> primitivePolygon <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>Primitive</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n  asynchronous<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>\n  geometryInstances<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>GeometryInstance</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n    geometry<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>Geometry</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n      attributes<span class="token operator">:</span> <span class="token punctuation">{</span>\n        position<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>GeometryAttribute</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n          componentDatatype<span class="token operator">:</span> Cesium<span class="token punctuation">.</span>ComponentDatatype<span class="token punctuation">.</span><span class="token constant">DOUBLE</span><span class="token punctuation">,</span>\n          componentsPerAttribute<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>\n          values<span class="token operator">:</span> positions\n        <span class="token punctuation">}</span><span class="token punctuation">)</span>\n      <span class="token punctuation">}</span><span class="token punctuation">,</span>\n      indices<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Uint16Array</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n      primitiveType<span class="token operator">:</span> Cesium<span class="token punctuation">.</span>PrimitiveType<span class="token punctuation">.</span><span class="token constant">TRIANGLE_FAN</span><span class="token punctuation">,</span>\n      boundingSphere<span class="token operator">:</span> Cesium<span class="token punctuation">.</span>BoundingSphere<span class="token punctuation">.</span><span class="token function">fromVertices</span><span class="token punctuation">(</span>positions<span class="token punctuation">)</span>\n    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n    attributes<span class="token operator">:</span> <span class="token punctuation">{</span>\n      color<span class="token operator">:</span> Cesium<span class="token punctuation">.</span>ColorGeometryInstanceAttribute<span class="token punctuation">.</span><span class="token function">fromColor</span><span class="token punctuation">(</span>\n        <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>Color</span><span class="token punctuation">(</span><span class="token number">1.0</span><span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">0.6</span><span class="token punctuation">)</span>\n      <span class="token punctuation">)</span>\n    <span class="token punctuation">}</span>\n  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n  appearance<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>PerInstanceColorAppearance</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n    flat<span class="token operator">:</span> <span class="token boolean">true</span>\n  <span class="token punctuation">}</span><span class="token punctuation">)</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span>\n\n<span class="token keyword">const</span> primitiveLine <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>Primitive</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n  asynchronous<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>\n  geometryInstances<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>GeometryInstance</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n    geometry<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>Geometry</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n      attributes<span class="token operator">:</span> <span class="token punctuation">{</span>\n        position<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>GeometryAttribute</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n          componentDatatype<span class="token operator">:</span> Cesium<span class="token punctuation">.</span>ComponentDatatype<span class="token punctuation">.</span><span class="token constant">DOUBLE</span><span class="token punctuation">,</span>\n          componentsPerAttribute<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>\n          values<span class="token operator">:</span> positions\n        <span class="token punctuation">}</span><span class="token punctuation">)</span>\n      <span class="token punctuation">}</span><span class="token punctuation">,</span>\n      indices<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Uint16Array</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n      primitiveType<span class="token operator">:</span> Cesium<span class="token punctuation">.</span>PrimitiveType<span class="token punctuation">.</span><span class="token constant">LINE_LOOP</span><span class="token punctuation">,</span>\n      <span class="token comment">// primitiveType: Cesium.PrimitiveType.LINES,</span>\n      <span class="token comment">// primitiveType: Cesium.PrimitiveType.LINE_STRIP,</span>\n      boundingSphere<span class="token operator">:</span> Cesium<span class="token punctuation">.</span>BoundingSphere<span class="token punctuation">.</span><span class="token function">fromVertices</span><span class="token punctuation">(</span>positions<span class="token punctuation">)</span>\n    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n    attributes<span class="token operator">:</span> <span class="token punctuation">{</span>\n      color<span class="token operator">:</span> Cesium<span class="token punctuation">.</span>ColorGeometryInstanceAttribute<span class="token punctuation">.</span><span class="token function">fromColor</span><span class="token punctuation">(</span>\n        <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>Color</span><span class="token punctuation">(</span><span class="token number">1.0</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">0.6</span><span class="token punctuation">)</span>\n      <span class="token punctuation">)</span>\n    <span class="token punctuation">}</span>\n  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n  appearance<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>PerInstanceColorAppearance</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n    flat<span class="token operator">:</span> <span class="token boolean">true</span>\n  <span class="token punctuation">}</span><span class="token punctuation">)</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span>\n\nscene<span class="token punctuation">.</span>primitives<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>primitivePolygon<span class="token punctuation">)</span>\nscene<span class="token punctuation">.</span>primitives<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>primitiveLine<span class="token punctuation">)</span>\n\n</code></pre></div>',4);t.render=function(a,p,t,e,c,u){return n(),s("div",null,[o])};export default t;export{p as __pageData};
